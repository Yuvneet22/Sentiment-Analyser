<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Sentiment Analyzer</title>
</head>
<body>
  <h2>Enter your IMDB review:</h2>
  <textarea id="review" rows="6" cols="60"></textarea><br>
  <button onclick="predict()">Analyze Sentiment</button>
  <h3 id="result"></h3>

  
  <script>
    async function predict() {
      const review = document.getElementById("review").value;
      const resultElement = document.getElementById("result");
      resultElement.innerText = "Analyzing..."; // Provide feedback

      try {
        const response = await fetch("http://localhost:5000/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ review: review })
        });

        if (!response.ok) {
          // Handle HTTP errors (e.g., 404, 500)
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();

        if (data.prediction !== undefined) {
          resultElement.innerText = "Prediction: " + data.prediction;
        } else {
          // Handle cases where prediction is missing in the response
          resultElement.innerText = "Error: Invalid response format from server.";
        }
      } catch (error) {
        // Handle fetch errors (network issues, etc.) or JSON parsing errors
        console.error("Error during prediction:", error);
        resultElement.innerText = "Error: Could not get prediction. " + error.message;
      }
    }
  </script>

</body>
</html>
